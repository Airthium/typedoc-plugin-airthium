"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildNav=exports.navStyle=void 0;const typedoc_1=require("typedoc"),icon_1=require("./icon"),classNames=(e,t)=>{const c=Object.keys(e).filter((t=>e[t])).concat(t||"").join(" ").trim().replace(/\s+/g," ");return c.length?c:void 0},wbr=e=>{const t=[],c=/[\s\S]*?(?:[^_-][_-](?=[^_-])|[^A-Z](?=[A-Z][^A-Z]))/g;let l,n=0;for(;l=c.exec(e);)t.push(l[0],typedoc_1.JSX.createElement("wbr",null)),n+=l[0].length;return t.push(e.slice(n)),t};exports.navStyle=".padding-left-25 {\n  padding-left: 25px !important;\n}\n.text-ellipsis {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.chevron > svg {\n  margin-bottom: -0.25rem;\n}";class Tree{constructor(e,t){this.getChild=e=>{let t;return this.children.some((c=>{if(c.id===e)return t=c,!0})),t},this.id=e,this.module=t,this.children=[]}}const buildNav=(e,t)=>typedoc_1.JSX.createElement(typedoc_1.JSX.Fragment,null,settings(),primaryNavigation(e,t),secondaryNavigation(e,t));exports.buildNav=buildNav;const settings=()=>typedoc_1.JSX.createElement("div",{class:"tsd-navigation settings"},typedoc_1.JSX.createElement("details",{class:"tsd-index-accordion",open:!1},typedoc_1.JSX.createElement("summary",{class:"tsd-accordion-summary"},typedoc_1.JSX.createElement("h3",{class:"chevron"},icon_1.icons.chevronDown()," Settings")),typedoc_1.JSX.createElement("div",{class:"tsd-accordion-details"},typedoc_1.JSX.createElement("div",{class:"tsd-theme-toggle"},typedoc_1.JSX.createElement("h4",{class:"uppercase"},"Theme"),typedoc_1.JSX.createElement("select",{id:"theme"},typedoc_1.JSX.createElement("option",{value:"os"},"OS"),typedoc_1.JSX.createElement("option",{value:"light"},"Light"),typedoc_1.JSX.createElement("option",{value:"dark"},"Dark")))))),primaryNavigation=(e,t)=>{const c=t.model.project.getChildrenByKind(typedoc_1.ReflectionKind.SomeModule),l=new Tree("root");c.forEach((e=>{e.name.split(".").reduce(((t,c)=>{let l=t.getChild(c);return l||(l=new Tree(c,e),t.children.push(l)),l}),l)}));const n=t.model.isProject(),o=n||c.some((e=>inPath(e,t.model)));return typedoc_1.JSX.createElement("nav",{class:"tsd-navigation primary"},typedoc_1.JSX.createElement("ul",null,typedoc_1.JSX.createElement("li",{class:classNames({current:o,selected:n})},typedoc_1.JSX.createElement("a",{href:e.urlTo(t.model.project)},t.project.name),typedoc_1.JSX.createElement("ul",null,l.children.map((e=>s(e)))))));function s(c){if(!c.module)return;const l=inPath(c.module,t.model),n=c.module.name===t.model.name;let o;const d=c.children;return(null==d?void 0:d.length)?typedoc_1.JSX.createElement("li",{class:classNames({current:l,selected:n,deprecated:c.module.isDeprecated()},c.module.cssClasses)},typedoc_1.JSX.createElement("details",{class:"tsd-index-accordion",open:!1},typedoc_1.JSX.createElement("summary",{class:"tsd-accordion-summary"},typedoc_1.JSX.createElement("a",{class:"chevron text-ellipsis",href:e.urlTo(c.module)},icon_1.icons.chevronDown()," ",c.id)),typedoc_1.JSX.createElement("div",{class:"tsd-accordion-details"},typedoc_1.JSX.createElement("ul",null,typedoc_1.JSX.createElement("li",{class:classNames({current:l,selected:n,deprecated:c.module.isDeprecated()},c.module.cssClasses)},typedoc_1.JSX.createElement("a",{class:"padding-left-25 text-ellipsis",href:e.urlTo(c.module)},"Index"),o),d.map(s))),o)):typedoc_1.JSX.createElement("li",{class:classNames({current:l,selected:n,deprecated:c.module.isDeprecated()},c.module.cssClasses)},typedoc_1.JSX.createElement("a",{class:"padding-left-25 text-ellipsis",href:e.urlTo(c.module)},c.id),o)}},secondaryNavigation=(e,t)=>{var c;if(t.model.isProject()&&t.model.getChildrenByKind(typedoc_1.ReflectionKind.Module).length)return;const l=t.model instanceof typedoc_1.ContainerReflection&&(null===(c=t.model.children)||void 0===c?void 0:c.length)||t.model.isProject()?t.model:t.model.parent,n=(l.children||[]).filter((e=>!e.kindOf(typedoc_1.ReflectionKind.SomeModule))).map((c=>typedoc_1.JSX.createElement("li",{class:classNames({deprecated:c.isDeprecated(),current:t.model===c},c.cssClasses)},typedoc_1.JSX.createElement("a",{href:e.urlTo(c),class:"tsd-index-link"},icon_1.icons[c.kind](),wbr(c.name)))));return l.kindOf(typedoc_1.ReflectionKind.SomeModule|typedoc_1.ReflectionKind.Project)?typedoc_1.JSX.createElement("nav",{class:"tsd-navigation secondary"},!!n.length&&typedoc_1.JSX.createElement("ul",null,n)):typedoc_1.JSX.createElement("nav",{class:"tsd-navigation secondary"},typedoc_1.JSX.createElement("ul",null,typedoc_1.JSX.createElement("li",{class:classNames({deprecated:l.isDeprecated(),current:l===t.model},l.cssClasses)},typedoc_1.JSX.createElement("a",{href:e.urlTo(l),class:"tsd-index-link"},icon_1.icons[l.kind](),typedoc_1.JSX.createElement("span",null,wbr(l.name))),!!n.length&&typedoc_1.JSX.createElement("ul",null,n))))};function inPath(e,t){for(;t;){if(t.isProject())return!1;if(e===t)return!0;t=t.parent}return!1}